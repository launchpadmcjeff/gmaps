AWSTemplateFormatVersion: '2010-09-09'
Globals:
  Function:
    CodeUri: ../backend/vehicle.js
    Environment:
      Variables:
        TABLE_NAME:
          Ref: Table
    Runtime: nodejs6.10
    Timeout: 180
Resources:
  RegisterVehicleLambda:
    Properties:
      AutoPublishAlias: GmapsTest
      CodeUri: s3://gmaps-codebuild-codebuild-us-west-1/8c21251afae0d5265b5c2bbab134a587
      DeploymentPreference:
        Type: Linear10PercentEvery1Minute
      Events:
        VehiclePost:
          Properties:
            Method: post
            Path: /api/vehicle
          Type: Api
      Handler: vehicle.post
      Policies: AmazonDynamoDBFullAccess
    Type: AWS::Serverless::Function
  Table:
    Type: AWS::Serverless::SimpleTable
Transform: AWS::Serverless-2016-10-31
